<app-main-header titulo="Mesas"></app-main-header>
<ion-content class="main" id="main-content">
  <div class="container">
    <div class="ion-grid" *ngIf="loaded">
      <ion-row>
        <ion-col size="12">
          <div class="header-container">
            <ion-select [(ngModel)]="idu" (ionChange)="change()" label="Sucursal">
              <ion-select-option *ngFor="let sucursal of sucursales" [value]="sucursal.id">{{ sucursal.sucursal
                }}</ion-select-option>
              <app-skeleton *ngIf="!loaded" [columns]="1" type="option"></app-skeleton>
            </ion-select>
            <ion-button (click)="AbrirModalMesas(0, 'Nueva')" class="crear">
              <ion-icon name="add-circle-outline"></ion-icon>
              <div class="button-text">Crear</div>
            </ion-button>
          </div>
        </ion-col>
      </ion-row>
    </div>
    <div class="table-container">
      <table class="tabla" *ngIf="loaded">
        <thead>
          <tr>
            <th>ID</th>
            <th>Descripci√≥n</th>
            <th>Capacidad</th>
            <th colspan="2">Sucursal</th>
          </tr>
        </thead>
        <tbody>
          <tr class="option" *ngFor="let mesa of mesas">
            <td>{{ mesa.id }}</td>
            <td>{{ mesa.descripcion }}</td>
            <td>{{ mesa.capacidad }}</td>
            <td>{{ mesa.sucursales.sucursal }}</td>
            <td class="actions-cell">
              <ion-button fill="clear" (click)="Opciones(mesa)">
                <ion-icon name="ellipsis-vertical-outline"></ion-icon>
              </ion-button>
            </td>
          </tr>
          <tr *ngIf="mesas.length === 0">
            <td colspan="5">No hay datos disponibles</td>
          </tr>
        </tbody>
      </table>
      <app-skeleton *ngIf="!loaded" [columns]="5" type="table"></app-skeleton>
    </div>
  </div>
</ion-content>