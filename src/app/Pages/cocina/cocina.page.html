<app-main-header titulo="Ordenes Pendientes"></app-main-header>
<ion-content [fullscreen]="true" id="main-content" *ngIf="caja">
  <ion-card *ngIf="ordenes.length === 0 && loaded" class="custom-card">
    <ion-card-content>
      <h5 class="ion-text-center ion-padding">No se ha realizado ninguna orden todavia</h5>
    </ion-card-content>
  </ion-card>
  <ion-grid>

    <ion-row *ngIf="ordenes.length !== 0 && loaded">
      <ion-col size-lg="4" size-sm="12" *ngFor="let orden of ordenes">
        <ion-card class="custom-card option notif">
          <div class="notification-circle" *ngIf="notificaciones[orden.id]">+{{notificaciones[orden.id]}}</div>
          <div class="seps" *ngIf="notificaciones[orden.id]">
            <br><br>
          </div>
          <ion-card-content>
            <app-detalleorden [mesa]="orden.mesas" [ordenC]="orden"></app-detalleorden>
            <!-- <ion-grid class="custom-label"> -->
            <!-- <ion-row> -->

            <!-- <ion-col size="12">
                  <ion-row>
                    <ion-col size="11">
                      <h2>ID Orden: #ORD{{ orden.id }}</h2>
                    </ion-col>
                  </ion-row>
                </ion-col>
                <ion-col lg-size="4" sm-size="12">
                  <p>
                    <ion-icon name="calendar-outline"></ion-icon>
                    Fecha: {{ orden.fecha | date: 'short' }}
                  </p>
                  <p>
                    <ion-icon name="restaurant-outline"></ion-icon>
                    Mesa: {{ orden.mesas.descripcion }}
                  </p>
                  <p>
                    <ion-icon name="time-outline"></ion-icon>
                    Tiempo estimado de preparación: {{Getestimandos(orden)[0]}} minutos
                  </p>
                </ion-col>
                <ion-col lg-size="4" sm-size="12">
                  <p>
                    <ion-icon name="person-outline"></ion-icon>
                    Mesero: {{ orden.usuarios.nombre }}
                  </p>
                  <p>
                    <ion-icon name="checkmark-circle-outline"></ion-icon>
                    Estado: {{ getEstado(orden.estado) }}
                  </p>
                  <p>
                    <ion-icon name="cash-outline"></ion-icon>
                    Total: {{ orden.total | currency }}
                  </p>
                  <p *ngIf="orden.estado!==1">
                    <ion-icon name="time-outline"></ion-icon>
                    <span *ngIf="orden.estado!==3">Tiempo transcurrido: {{ getElapsedTime(orden.id) | date:'mm:ss'
                      }}</span>
                    <span *ngIf="orden.estado===3">Se Preparó en: {{ formatTime(orden.tiempo) }} (pausado hasta nuevo
                      pedido)</span>
                  </p>
                </ion-col> -->
            <!-- </ion-row>
            </ion-grid> -->
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="!loaded">
      <ion-col size="4"> <app-skeleton *ngIf="!loaded" [columns]="5" type="cards"></app-skeleton>
      </ion-col>
      <ion-col size="4"> <app-skeleton *ngIf="!loaded" [columns]="5" type="cards"></app-skeleton>
      </ion-col>
      <ion-col size="4"> <app-skeleton *ngIf="!loaded" [columns]="5" type="cards"></app-skeleton>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>

<ion-content *ngIf="!caja" id="main-content">

  <ion-card class="custom-card">
    <ion-card-content>
      <h5>Las ordenes no llegarán, la caja no se activado, por tanto, no se pueden realizar</h5>
    </ion-card-content>
  </ion-card>
</ion-content>