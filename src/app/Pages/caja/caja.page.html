<app-main-header titulo="Caja"></app-main-header>
<ion-content [fullscreen]="true" id="main-content">
  <ion-segment [(ngModel)]="segmento">
    <ion-segment-button value="pago">
      <ion-label>Pendientes</ion-label>
    </ion-segment-button>
    <ion-segment-button value="hoy">
      <ion-label>Cobradas</ion-label>
    </ion-segment-button>
  </ion-segment>

  <ion-content *ngIf="segmento === 'pago'" class="ion-padding">
    <h3 class="ion-text-center">Ordenes pendientes de cobro</h3>

    <ion-card *ngFor="let orden of ordenes">
      <ion-card-header>
        <ion-card-subtitle>ID de Orden: {{ orden.id }}</ion-card-subtitle>
        <ion-card-subtitle>Fecha: {{ orden.fecha }}</ion-card-subtitle>
        <ion-card-subtitle>Cliente: {{ orden.nombrecliente }}</ion-card-subtitle>
        <ion-card-subtitle>Mesa: {{ orden.mesas.descripcion }}</ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <ion-list lines="none">
          <ion-item *ngFor="let platillo of orden.ordenesplatillos">
            <ion-label>{{ platillo.platillos.nombre }}</ion-label>
            <ion-label slot="end">Cantidad: {{ platillo.cantidad }}</ion-label>
          </ion-item>
          <ion-item *ngFor="let bebida of orden.ordenesbebidas">
            <ion-label>{{ bebida.bebidas.nombre }}</ion-label>
            <ion-label slot="end">Cantidad: {{ bebida.cantidad }}</ion-label>
          </ion-item>
        </ion-list>

        <ion-item>
          <ion-label>Total:</ion-label>
          <ion-label slot="end">${{ orden.total }}</ion-label>
        </ion-item>
        <ion-button expand="block" color="success" (click)="cobrarOrden(orden)">Cobrar Orden</ion-button>
      </ion-card-content>

    </ion-card>
  </ion-content>
  <ion-content *ngIf="segmento === 'hoy'" class="ion-padding">
    <h3 class="ion-text-center">Ordenes del d√≠a ({{fechaActual}})</h3>
  </ion-content>
</ion-content>